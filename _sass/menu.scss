#menu-toggle,
.menu-icon {
  display: none;
}

.menu {
  position: fixed;
  z-index: 10000;
  display: flex;
  align-items: end;
  width: fit-content;
  left: 1%;
  right: 1%;
  top: var(--gap-xs);

  padding-block: var(--gap-xs);
  padding-inline: var(--gap-menu);
  gap: var(--gap-xl);

  border: var(--border-solid);
  border-radius: calc(var(--radius) * 4);
  background-color: var(--transpa-mob);
  backdrop-filter: blur(var(--blur-l));
  -webkit-backdrop-filter: blur(var(--blur-l));
  box-shadow: var(--shadow-s);
  transition: all var(--transition-fast);

  li {
    display: inline-block;
    margin: 0;
    padding: 0;
    list-style: none;

    a {
      display: inline-flex;
      align-items: center;
      font-family: $font-family-h;
      font-size: calc(var(--font-b) * 1.4);
      color: var(--links);
      font-weight: var(--weight-regular);

      &:hover {
        color: var(--links-hover);
      }
    }
  }
}
  
  .theme-toggle .icon {
    width: 34px;
    height: 34px;
    display: inline-block;
  }

// -------------------------------------------------------- MOBILE -------------------------------------------------------- //
// -------------------------------------------------------- MOBILE -------------------------------------------------------- //
@media (max-width: 800px) {
  #menu-toggle {
    display: none;
  }

  /* Overlay – klik mimo menu zavře menu */
  .menu-overlay {
    position: fixed;
    inset: 0;
    background: transparent;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 9999;
  }

  #menu-toggle:checked ~ .menu-overlay {
    opacity: 1;
    pointer-events: auto;
    cursor: pointer;
  }

  /* Tlačítko MENU */
  .menu-button {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    font-family: $font-family-h;
    font-size: calc(var(--font-b) * 1.1);
    letter-spacing: var(--letter-wide);
    color: var(--links);
    cursor: pointer;
    z-index: 10001;
    padding: 0.8rem 1.6rem;
    border-radius: calc(var(--radius) * 3);
    background-color: color-mix(in srgb, var(--bg) 80%, transparent);
    backdrop-filter: blur(var(--blur-s));
    -webkit-backdrop-filter: blur(var(--blur-s));
    box-shadow: var(--shadow-s);
    transition: all 0.3s ease;
  }

  /* Menu panel */
  .menu {
    position: fixed;
    bottom: calc(2rem + 3.5rem);
    right: 2rem;
    flex-direction: column;
    align-items: flex-end;
    justify-content: flex-end;
    background-color: var(--transpa-mob);
    backdrop-filter: blur(var(--blur-l));
    -webkit-backdrop-filter: blur(var(--blur-l));
    border-radius: calc(var(--radius) * 3);
    box-shadow: var(--shadow-s);
    padding: var(--gap-s);
    gap: var(--gap-s);
    z-index: 10000;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.3, 1);
    height: 90vw;

    .menu-list {
      align-self: center;
      padding: 0;
      margin: 0;

      li { a {
        font-size: var(--h2);
      }
    }
  }
}

  /* Menu otevřené */
  #menu-toggle:checked ~ .menu {
    opacity: 1;
    pointer-events: auto;
    max-height: 100vh;
    padding: var(--gap-m);
  }

  .menu li {
    display: flex;
    flex-direction: column;
    list-style: none;
    opacity: 0;
    transform: translateY(1rem);
    transition: all 0.25s ease;
    align-items: center;
  }

  #menu-toggle:checked ~ .menu li {
    opacity: 1;
    transform: translateY(0);
  }

  .menu li a {
    font-family: $font-family-h;
    font-size: calc(var(--font-b) * 1.1);
    color: var(--links);
    text-decoration: none;

    &:hover {
      color: var(--links-hover);
    }
  }

  .theme-toggle .icon {
    width: 28px;
    height: 28px;
  }

  /* Scroll lock */
  body:has(#menu-toggle:checked) {
    overflow: hidden;
    touch-action: none;
  }
}
